(this.webpackJsonpquestion=this.webpackJsonpquestion||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(13),o=a.n(c),i=a(25),s=a(26),u=a(63),l=a(62),d=a(12);a(73);var f=function(e){var t=e.question,a=e.show,n=e.changePosition,c=e.changeScore,o=t.active?"active":"hidden",i=t.answered?"answered":"not-answered";return r.a.createElement("div",null,r.a.createElement("div",{className:"card ".concat(i),onDoubleClick:function(e){n(t.id)},draggable:!0,onDragStart:function(e){!function(e,t){e.dataTransfer.setData("id",t)}(e,t.id)},onDragLeave:function(e){!function(e){e.target.classList.remove("selected")}(e)},onDragEnd:function(e){},onDragOver:function(e){!function(e){e.preventDefault(),e.target.classList.add("selected")}(e)},onDrop:function(e){!function(e,t,a){e.preventDefault(),e.target.classList.remove("selected"),a(e.dataTransfer.getData("id")),a(t)}(e,t.id,n)}},r.a.createElement("div",{className:"card-title",onClick:function(e){a(t.id)}}," ",t.title),r.a.createElement("div",{className:"card-side"},r.a.createElement("div",{className:"card-value"}," ",t.score," "),r.a.createElement("div",{className:"card-actions"},r.a.createElement("button",{className:"actions",onClick:function(e){c(t.id,"INC")},onDoubleClick:function(e){e.stopPropagation()}},r.a.createElement("i",{className:"fa fa-arrow-circle-o-up","aria-hidden":"true"})),r.a.createElement("button",{className:"actions",onClick:function(e){c(t.id,"DEC")},onDoubleClick:function(e){e.stopPropagation()}},r.a.createElement("i",{className:"fa fa-arrow-circle-o-down","aria-hidden":"true"}))))),r.a.createElement("div",{className:"".concat(o," card-list")},r.a.createElement("span",null,"\u0410\u0432\u0442\u043e\u0440 : ",t.owner),r.a.createElement("br",null),r.a.createElement("span",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432 : ",t.answersCount)))},m=r.a.createContext(),p=m.Provider,v=m.Consumer,h=function(){return function(e){return function(t){return r.a.createElement(v,null,(function(a){return r.a.createElement(e,Object.assign({},t,{questionService:a}))}))}}},E=(a(74),function(){return r.a.createElement("div",{className:"cssload-loader"},r.a.createElement("div",{className:"cssload-inner cssload-one"}),r.a.createElement("div",{className:"cssload-inner cssload-two"}),r.a.createElement("div",{className:"cssload-inner cssload-three"}))}),O=function(e){return{type:"QUESTIONS_LOADED",payload:e}},b=function(e){return{type:"SHOW_QUESTION",payload:e}},g=(a(75),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.questionService,a=e.questionLoaded,n=e.date;0===e.questions.length&&t.getData(n).then((function(e){return a(e)}))}},{key:"render",value:function(){var e=this.props,t=e.questions,a=e.questionShow,n=e.changePosition,c=e.changeScore;return e.loading?r.a.createElement(E,null):r.a.createElement("ul",{className:"list",onClick:function(e){e.stopPropagation()}},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(f,{key:e.id,question:e,show:a,changePosition:n,changeScore:c}))})))}}]),a}(n.Component)),w={questionLoaded:O,questionShow:b,changePosition:function(e){return{type:"CHANGE_POSITION",payload:e}},changeScore:function(e,t){return{type:"CHANGE_SCORE",payload:e,effect:t}}},N=h()(Object(d.b)((function(e){return{questions:e.questions,date:e.date,loading:e.loading}}),w)(g)),S=a(19),y=a.n(S),D=a(28),j=a(58),q=a.n(j),C=(a(77),a(78),{showSearch:function(e){return{type:"SHOW_SEARCH",payload:e}},questionLoaded:O,loadingData:function(){return{type:"LOADING"}}}),k=h()(Object(d.b)((function(e){return{active:e.search,date:e.date}}),C)((function(e){var t=e.showSearch,a=e.active,n=e.date,c=e.questionService,o=e.questionLoaded,i=e.loadingData,s=a?"active":"hidden";return r.a.createElement("div",{className:"header-bar"},r.a.createElement("div",{className:"title-bar"},' 5 \u0441\u0430\u043c\u044b\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 StackOverfow, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 "react-redux" \u0432 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441',r.a.createElement(q.a,{className:"date-bar",selected:n,onChange:function(e){t(e)}}),r.a.createElement("button",{className:s,onClick:function(){var e=Object(D.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(),setTimeout((function(){c.getData(n).then((function(e){return o(e)}))}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"\u041f\u043e\u0438\u0441\u043a  ",r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))))}))),_=(a(139),{hideAll:function(){return{type:"HIDE_ALL"}},questionShow:b}),I=Object(d.b)(null,_)((function(e){var t=e.hideAll;return r.a.createElement("div",{className:"container",onClick:function(e){t()}},r.a.createElement(k,null),r.a.createElement(N,null))})),L=a(6),A=a(27),H=a(61),P=function(e,t){return e.map((function(e){return e.active=e.id===t&&!e.active,e}))},x=function(e,t){var a=e.questions,n=e.pressed;if(n.push(t),2===n.length){var r=[a[n[1]],a[n[0]]];a[n[0]]=r[0],a[n[1]]=r[1],a=a.map((function(e,t){return e.id=t,e})),n=[]}return{questions:a,pressed:n}},T=function(e,t,a){var n=Object(H.a)(e);switch(a){case"INC":++n[t].score;break;case"DEC":--n[t].score;break;default:return n}return n},R={questions:[],date:new Date(2018,0,1),pressed:[],seacrch:!1,loading:!0},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUESTIONS_LOADED":var a=t.payload;return Object(L.a)(Object(L.a)({},e),{},{questions:a,loading:!1,search:!1});case"LOADING":return Object(L.a)(Object(L.a)({},e),{},{loading:!0});case"SHOW_QUESTION":var n=P(e.questions,t.payload);return Object(L.a)(Object(L.a)({},e),{},{questions:n});case"CHANGE_POSITION":var r=x(e,t.payload);return Object(L.a)(Object(L.a)({},e),{},{questions:r.questions,pressed:r.pressed});case"CHANGE_SCORE":var c=T(e.questions,t.payload,t.effect);return Object(L.a)(Object(L.a)({},e),{},{questions:c});case"HIDE_ALL":var o=e.questions.map((function(e){return e.active=!1,e}));return Object(L.a)(Object(L.a)({},e),{},{questions:o});case"SHOW_SEARCH":return Object(L.a)(Object(L.a)({},e),{},{search:!0,date:t.payload});default:return e}},J=function(){try{var e=window.localStorage.getItem("app_state");if(!e)return;var t=JSON.parse(e),a=new Date(t.date);return Object(L.a)(Object(L.a)({},t),{},{date:a})}catch(n){return}}(),Q=Object(A.b)(G,J);Q.subscribe((function(){!function(e){try{var t=JSON.stringify(e);window.localStorage.setItem("app_state",t)}catch(a){return}}(Q.getState())}));var U=Q,W=new(function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getData",value:function(){var e=Object(D.a)(y.a.mark((function e(t){var a,n,r,c,o=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.floor(t/1e3),e.prev=1,e.next=4,fetch("https://api.stackexchange.com/2.2/questions?pagesize=5&fromdate=".concat(a,"&order=desc&sort=votes&tagged=react-redux&site=stackoverflow"));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,c=r.items.map((function(e,t){return o._transformData(e,t)})),e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(1),alert("ERROR");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformData",value:function(e,t){return{id:t,title:e.title,score:e.score,answered:e.is_answered,lastActivity:e.last_activity_date,owner:e.owner.display_name,answersCount:e.answer_count,creationDate:e.creation_date}}}]),e}());o.a.render(r.a.createElement(d.a,{store:U},r.a.createElement(p,{value:W},r.a.createElement(I,null))),document.getElementById("root"))},64:function(e,t,a){e.exports=a(140)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.e797ec6d.chunk.js.map